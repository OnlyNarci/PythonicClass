<link rel="stylesheet" href="./custom-style.css">

# Pythonic 教程 - 第三课：类型注解入门

## 一、Python的类型特性
Python 是「动态类型语言」+「强类型语言」，这两个特性决定了类型注解的设计初衷：
### 1. 动态类型
运行时才确定变量类型，无需提前声明类型，灵活但易出错：
```python
# 同一变量可赋值不同类型
value = 18  # 此时a是int类型
value = "Python"  # 此时a变为str类型
```

### 2. 强类型
类型不会自动隐式转换，类型不匹配会直接报错，保证类型安全：
```python
# 强类型体现：int和str无法直接相加，不会自动转换
1 + "2"  # 报错：TypeError: unsupported operand type(s) for +: 'int' and 'str'
```

**核心目的**：类型注解用于收拾这一奇葩烂摊子，让代码更易读、易维护。

## 二、基础类型注解写法
类型注解是「提示性」的（解释器不强制校验），核心作用是标注变量/函数的预期类型。

### 1. 变量类型注解
语法：`变量名: 类型 = 赋值`
示例：
```python
# 基础变量注解
user_age: int = 25
user_name: str = "李四"
is_vip: bool = True
score: float = 92.5
```

### 2. 函数返回值注解
语法：`def 函数名(参数1: 类型, 参数2: 类型) -> 返回值类型:`
示例：
```python
# 单参数+单返回值注解
def calculate_sum(num1: int, num2: int) -> int:
    return num1 + num2

# 无返回值（返回None）注解
def print_info(name: str) -> None:
    print(f"姓名：{name}")
```

## 三、内置数据类型/容器的注解方法
以下是Python内置基础类型和数据容器的标准注解写法：

| 类型/数据容器 | 注解写法       | 示例代码                     |
|---------------|----------------|------------------------------|
| 整数          | int            | age: int = 18                |
| 浮点数        | float          | height: float = 1.75         |
| 字符串        | str            | address: str = "北京市"      |
| 布尔值        | bool           | is_active: bool = False      |
| 列表          | list[元素类型] | num_list: list[int] = [1,2,3]|
| 元组          | tuple[元素类型]| user_tuple: tuple[str] = ("a","b") |
| 字典          | dict[键类型, 值类型] | user_dict: dict[str, int] = {"score": 88} |
| 集合          | set[元素类型]  | num_set: set[int] = {1,2,3}  |

## 四、复合类型注解
复合类型注解指「容器内嵌套特定类型」，是日常开发中最常用的注解形式：
```python
# 列表嵌套字典（用户信息列表）
user_list: list[dict[str, str]] = [
    {"name": "张三", "phone": "13800138000"},
    {"name": "王五", "phone": "13900139000"}
]

# 元组固定元素类型（姓名+年龄+是否VIP）
user_info: tuple[str, int, bool] = ("赵六", 30, True)

# 字典嵌套列表（科目+成绩列表）
score_dict: dict[str, list[float]] = {
    "math": [90.5, 88.0],
    "english": [95.0, 89.5]
}
```

## 五、小结
1. Python是动态强类型语言，类型注解仅作提示，不强制校验；
2. 变量注解：`变量名: 类型 = 值`，函数注解：`def 函数名(参数: 类型) -> 返回值类型:`；
3. 内置容器注解需标注「容器类型+元素类型」，复合注解注意厘清层级关系；

## 下一课：typing模块

---